(()=>{"use strict";(()=>{let e="metric",t="toronto";const r=document.querySelector("#searchInput"),n=document.querySelector("#btnSearch"),o=document.querySelector("#btnChangeUnit"),c=document.querySelector("#errorInput"),i=async r=>{try{let n=await(async e=>{try{const t=await fetch(e,{mode:"cors"}),r=await t.json(),n={};return n.city=r.name,n.country=r.sys.country,n.lat=r.coord.lat,n.lon=r.coord.lon,n}catch(e){console.log("error: "+e)}})(`https://api.openweathermap.org/data/2.5/weather?q=${r}&units=${e}&APPID=107629179ef66f70931a8e42d89f5115`),o=await(async e=>{try{const t=await fetch(e,{mode:"cors"}),r=await t.json(),n={};return n.temp=r.current.temp,n.description=r.current.weather[0].description,n.iconCode=r.current.weather[0].icon,n.feelsLike=r.current.feels_like,n.humidity=r.current.humidity,n.windSpeed=r.current.wind_speed,n.daily=r.daily,n.daily.shift(),n}catch(e){console.log("error: "+e)}})(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.lat}&lon=${n.lon}&units=${e}&appid=107629179ef66f70931a8e42d89f5115`);o.city=n.city,o.country=n.country,t=n.city,((e,t)=>{let r="",n="";"metric"==t?(r="°C",n="km/h"):"imperial"==t&&(r="°F",n="mph");const o=document.querySelector("#weatherLocation"),c=document.querySelector("#weatherDescription"),i=document.querySelector("#weatherTemp"),a=document.querySelector("#weatherIcon");var d;o.innerHTML=`${e.city}, ${e.country}`,c.innerHTML=`${d=e.description,d.replace(/(^\w{1})|(\s+\w{1})/g,(e=>e.toUpperCase()))}`,i.innerHTML=`${Math.round(e.temp)} ${r}`,a.src=`http://openweathermap.org/img/wn/${e.iconCode}@4x.png`;const u=document.querySelector("#feelsLikeTemp"),l=document.querySelector("#humidityTemp"),y=document.querySelector("#windSpeedTemp");u.innerHTML=`${Math.round(e.feelsLike)} ${r}`,l.innerHTML=`${e.humidity}%`,y.innerHTML=`${Math.round(10*e.windSpeed)/10} ${n}`;const s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];e.daily.forEach(((e,t)=>{let n=new Date(1e3*e.dt),o=s[n.getDay()];const c=document.querySelector(`#day${t}Name`),i=document.querySelector(`#day${t}High`),a=document.querySelector(`#day${t}Low`),d=document.querySelector(`#day${t}Icon`);c.innerHTML=`${o}`,i.innerHTML=`${Math.round(e.temp.max)} ${r}`,a.innerHTML=`${Math.round(e.temp.min)} ${r}`,d.src=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}))})(o,e),c.style.visibility="hidden"}catch(e){console.log("error: "+e),c.style.visibility="visible"}};i("toronto"),n.addEventListener("click",(()=>{i(r.value),r.value=""})),r.addEventListener("keypress",(function(e){"Enter"===e.key&&(i(r.value),r.value="")})),o.addEventListener("click",(function(r){const n=document.querySelector("#metricLabel"),o=document.querySelector("#imperialLabel");"metric"==e?(e="imperial",n.style.fontWeight="normal",o.style.fontWeight="1000"):"imperial"==e&&(e="metric",n.style.fontWeight="1000",o.style.fontWeight="normal"),i(t)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWF0aGVyLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dlYXRoZXIvLi9zcmMvYXBpLmpzIiwid2VicGFjazovL3dlYXRoZXIvLi9zcmMvZG9tLmpzIl0sIm5hbWVzIjpbInVuaXRzIiwiY3VyckNpdHkiLCJzZWFyY2hJbnB1dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNlYXJjaEJ0biIsImJ0bkNoYW5nZVVuaXQiLCJlcnJvcklucHV0IiwiZ2V0RGF0YSIsImFzeW5jIiwic2VhcmNoVmFsdWUiLCJjdXJyZW50RGF0YSIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtb2RlIiwianNvbiIsImN1cnJlbnREYXRhT2JqIiwiY2l0eSIsIm5hbWUiLCJjb3VudHJ5Iiwic3lzIiwibGF0IiwiY29vcmQiLCJsb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50V2VhdGhlckFQSSIsIm9uZUNhbGxEYXRhIiwib25lQ2FsbERhdGFPYmoiLCJ0ZW1wIiwiY3VycmVudCIsImRlc2NyaXB0aW9uIiwid2VhdGhlciIsImljb25Db2RlIiwiaWNvbiIsImZlZWxzTGlrZSIsImZlZWxzX2xpa2UiLCJodW1pZGl0eSIsIndpbmRTcGVlZCIsIndpbmRfc3BlZWQiLCJkYWlseSIsInNoaWZ0Iiwib25lQ2FsbEFQSSIsIndlYXRoZXJPYmoiLCJkZWdyZWVzIiwic3BlZWQiLCJ3ZWF0aGVyTG9jYXRpb24iLCJ3ZWF0aGVyRGVzY3JpcHRpb24iLCJ3ZWF0aGVyVGVtcCIsIndlYXRoZXJJY29uIiwic3RyaW5nIiwiaW5uZXJIVE1MIiwicmVwbGFjZSIsImxldHRlciIsInRvVXBwZXJDYXNlIiwiTWF0aCIsInJvdW5kIiwic3JjIiwiZmVlbHNMaWtlVGVtcCIsImh1bWlkaXR5VGVtcCIsIndpbmRTcGVlZFRlbXAiLCJhbGxEYXlzIiwiZm9yRWFjaCIsImRheSIsImluZGV4IiwiZGF0ZVRpbWUiLCJEYXRlIiwiZHQiLCJjb252RGF5TmFtZSIsImdldERheSIsImRheU5hbWUiLCJkYXlIaWdoIiwiZGF5TG93IiwiZGF5SWNvbiIsIm1heCIsIm1pbiIsImxvYWRXZWF0aGVyRGF0YSIsInN0eWxlIiwidmlzaWJpbGl0eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWx1ZSIsImUiLCJrZXkiLCJtZXRyaWNMYWJlbCIsImltcGVyaWFsTGFiZWwiLCJmb250V2VpZ2h0Il0sIm1hcHBpbmdzIjoibUJBSXVCLE1BQ25CLElBQUlBLEVBQVEsU0FDUkMsRUFBVyxVQUNmLE1BQU1DLEVBQWNDLFNBQVNDLGNBQWMsZ0JBQ3JDQyxFQUFZRixTQUFTQyxjQUFjLGNBQ25DRSxFQUFnQkgsU0FBU0MsY0FBYyxrQkFDdkNHLEVBQWFKLFNBQVNDLGNBQWMsZUFFcENJLEVBQVVDLE1BQU9DLElBQ25CLElBQ0ksSUFBSUMsT0NkVUYsT0FBT0csSUFDN0IsSUFDSSxNQUFNQyxRQUFpQkMsTUFBTUYsRUFBSyxDQUFDRyxLQUFNLFNBQ25DSixRQUFvQkUsRUFBU0csT0FDN0JDLEVBQWlCLEdBS3ZCLE9BSkFBLEVBQWVDLEtBQU9QLEVBQVlRLEtBQ2xDRixFQUFlRyxRQUFVVCxFQUFZVSxJQUFJRCxRQUN6Q0gsRUFBZUssSUFBTVgsRUFBWVksTUFBTUQsSUFDdkNMLEVBQWVPLElBQU1iLEVBQVlZLE1BQU1DLElBQ2hDUCxFQUNULE1BQU9RLEdBQ0xDLFFBQVFDLElBQUksVUFBVUYsS0RHTUcsQ0FBa0IscURBQXFEbEIsV0FBcUJWLDRDQUNoSDZCLE9DQ0dwQixPQUFPRyxJQUN0QixJQUNJLE1BQU1DLFFBQWlCQyxNQUFNRixFQUFLLENBQUNHLEtBQU0sU0FDbkNjLFFBQW9CaEIsRUFBU0csT0FDN0JjLEVBQWlCLEdBV3ZCLE9BVkFBLEVBQWVDLEtBQU9GLEVBQVlHLFFBQVFELEtBQzFDRCxFQUFlRyxZQUFjSixFQUFZRyxRQUFRRSxRQUFRLEdBQUdELFlBQzVESCxFQUFlSyxTQUFXTixFQUFZRyxRQUFRRSxRQUFRLEdBQUdFLEtBQ3pETixFQUFlTyxVQUFZUixFQUFZRyxR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LGNBQWMsa0JBQ2xDLFVBQVBKLEdBQ0FBLEVBQVEsV0FDUnFGLEVBQVlOLE1BQU1RLFdBQVcsU0FDN0JELEVBQWNQLE1BQU1RLFdBQVcsUUFDakIsWUFBUHZGLElBQ1BBLEVBQVEsU0FDUnFGLEVBQVlOLE1BQU1RLFdBQVcsT0FDN0JELEVBQWNQLE1BQU1RLFdBQVcsVUFHbkMvRSxFQUFRUCxPQTNETyxJIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2N1cnJlbnRXZWF0aGVyQVBJLCBvbmVDYWxsQVBJIH0gZnJvbSAnLi9hcGkuanMnO1xuaW1wb3J0IHtsb2FkV2VhdGhlckRhdGF9IGZyb20gJy4vZG9tLmpzJztcblxuXG5jb25zdCBzaXRlQ29udHJvbGxlciA9ICgoKT0+e1xuICAgIGxldCB1bml0cyA9ICdtZXRyaWMnO1xuICAgIGxldCBjdXJyQ2l0eSA9ICd0b3JvbnRvJztcbiAgICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZWFyY2hJbnB1dCcpO1xuICAgIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidG5TZWFyY2gnKTtcbiAgICBjb25zdCBidG5DaGFuZ2VVbml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J0bkNoYW5nZVVuaXQnKTtcbiAgICBjb25zdCBlcnJvcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9ySW5wdXQnKTtcblxuICAgIGNvbnN0IGdldERhdGEgPSBhc3luYyAoc2VhcmNoVmFsdWUpID0+e1xuICAgICAgICB0cnl7XG4gICAgICAgICAgICBsZXQgY3VycmVudERhdGEgPSBhd2FpdCBjdXJyZW50V2VhdGhlckFQSShgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke3NlYXJjaFZhbHVlfSZ1bml0cz0ke3VuaXRzfSZBUFBJRD0xMDc2MjkxNzllZjY2ZjcwOTMxYThlNDJkODlmNTExNWApO1xuICAgICAgICAgICAgbGV0IG9uZUNhbGxEYXRhID0gYXdhaXQgb25lQ2FsbEFQSShgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7Y3VycmVudERhdGEubGF0fSZsb249JHtjdXJyZW50RGF0YS5sb259JnVuaXRzPSR7dW5pdHN9JmFwcGlkPTEwNzYyOTE3OWVmNjZmNzA5MzFhOGU0MmQ4OWY1MTE1YCk7XG4gICAgICAgICAgICBvbmVDYWxsRGF0YS5jaXR5ID0gY3VycmVudERhdGEuY2l0eTtcbiAgICAgICAgICAgIG9uZUNhbGxEYXRhLmNvdW50cnkgPSBjdXJyZW50RGF0YS5jb3VudHJ5O1xuICAgICAgICAgICAgY3VyckNpdHkgPSBjdXJyZW50RGF0YS5jaXR5O1xuICAgICAgICAgICAgbG9hZFdlYXRoZXJEYXRhKG9uZUNhbGxEYXRhLCB1bml0cyk7XG4gICAgICAgICAgICBlcnJvcklucHV0LnN0eWxlLnZpc2liaWxpdHk9J2hpZGRlbic7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJytlcnJvcik7XG4gICAgICAgICAgICBlcnJvcklucHV0LnN0eWxlLnZpc2liaWxpdHk9J3Zpc2libGUnO1xuICAgICAgICAgICAgLy8gYWRkIGVycm9yIG1lc3NhZ2UgdW5kZXIgc2VhcmNoIGJhclxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIC8vIGluaXRpYWxpemUgc2l0ZSB3aXRoICd0b3JvbnRvJyBhcyBiYXNlIGNpdHlcblxuICAgIGNvbnN0IHNpdGVJbml0ID0gKCgpPT57XG4gICAgICAgIGdldERhdGEoJ3Rvcm9udG8nKTtcbiAgICB9KSgpO1xuICAgIFxuICAgIC8vIHNlYXJjaCBiYXIgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICBzZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBnZXREYXRhKHNlYXJjaElucHV0LnZhbHVlKTtcbiAgICAgICAgc2VhcmNoSW5wdXQudmFsdWU9Jyc7XG4gICAgfSk7XG5cbiAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChlKXtcbiAgICAgICAgaWYgKGUua2V5ID09PSdFbnRlcicpe1xuICAgICAgICAgICAgZ2V0RGF0YShzZWFyY2hJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICBzZWFyY2hJbnB1dC52YWx1ZT0nJztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYnRuQ2hhbmdlVW5pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAvLyBjaGFuZ2UgdG8gb3Bwb3NpdGUgdW5pdFxuICAgICAgICBjb25zdCBtZXRyaWNMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZXRyaWNMYWJlbCcpO1xuICAgICAgICBjb25zdCBpbXBlcmlhbExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltcGVyaWFsTGFiZWwnKTtcbiAgICAgICAgaWYgKHVuaXRzPT0nbWV0cmljJyl7XG4gICAgICAgICAgICB1bml0cyA9ICdpbXBlcmlhbCc7XG4gICAgICAgICAgICBtZXRyaWNMYWJlbC5zdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnO1xuICAgICAgICAgICAgaW1wZXJpYWxMYWJlbC5zdHlsZS5mb250V2VpZ2h0PScxMDAwJztcbiAgICAgICAgfSBlbHNlIGlmICh1bml0cz09J2ltcGVyaWFsJyl7XG4gICAgICAgICAgICB1bml0cyA9ICdtZXRyaWMnO1xuICAgICAgICAgICAgbWV0cmljTGFiZWwuc3R5bGUuZm9udFdlaWdodD0nMTAwMCc7XG4gICAgICAgICAgICBpbXBlcmlhbExhYmVsLnN0eWxlLmZvbnRXZWlnaHQ9J25vcm1hbCc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsbCBnZXREYXRhIHVzaW5nIGN1cnJDaXR5IHRvIHJlLWRpc3BsYXkgaW4gbmV3IHVuaXRzXG4gICAgICAgIGdldERhdGEoY3VyckNpdHkpO1xuICAgIH0pO1xuXG59KSgpO1xuXG4iLCJjb25zdCBjdXJyZW50V2VhdGhlckFQSSA9IGFzeW5jICh1cmwpID0+IHtcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7bW9kZTogJ2NvcnMnfSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCBjdXJyZW50RGF0YU9iaiA9IHt9O1xuICAgICAgICBjdXJyZW50RGF0YU9iai5jaXR5ID0gY3VycmVudERhdGEubmFtZTtcbiAgICAgICAgY3VycmVudERhdGFPYmouY291bnRyeSA9IGN1cnJlbnREYXRhLnN5cy5jb3VudHJ5O1xuICAgICAgICBjdXJyZW50RGF0YU9iai5sYXQgPSBjdXJyZW50RGF0YS5jb29yZC5sYXQ7XG4gICAgICAgIGN1cnJlbnREYXRhT2JqLmxvbiA9IGN1cnJlbnREYXRhLmNvb3JkLmxvbjtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRhT2JqO1xuICAgIH0gY2F0Y2ggKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnK2Vycm9yKTtcbiAgICAgICAgLy8gc2hvdyBlcnJvciBtZXNzYWdlIG9uXG4gICAgfVxufVxuXG5jb25zdCBvbmVDYWxsQVBJID0gYXN5bmMgKHVybCkgPT57XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge21vZGU6ICdjb3JzJ30pO1xuICAgICAgICBjb25zdCBvbmVDYWxsRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3Qgb25lQ2FsbERhdGFPYmogPSB7fTtcbiAgICAgICAgb25lQ2FsbERhdGFPYmoudGVtcCA9IG9uZUNhbGxEYXRhLmN1cnJlbnQudGVtcDtcbiAgICAgICAgb25lQ2FsbERhdGFPYmouZGVzY3JpcHRpb24gPSBvbmVDYWxsRGF0YS5jdXJyZW50LndlYXRoZXJbMF0uZGVzY3JpcHRpb247XG4gICAgICAgIG9uZUNhbGxEYXRhT2JqLmljb25Db2RlID0gb25lQ2FsbERhdGEuY3VycmVudC53ZWF0aGVyWzBdLmljb247XG4gICAgICAgIG9uZUNhbGxEYXRhT2JqLmZlZWxzTGlrZSA9IG9uZUNhbGxEYXRhLmN1cnJlbnQuZmVlbHNfbGlrZTtcbiAgICAgICAgb25lQ2FsbERhdGFPYmouaHVtaWRpdHkgPSBvbmVDYWxsRGF0YS5jdXJyZW50Lmh1bWlkaXR5O1xuICAgICAgICBvbmVDYWxsRGF0YU9iai53aW5kU3BlZWQgPSBvbmVDYWxsRGF0YS5jdXJyZW50LndpbmRfc3BlZWQ7XG4gICAgICAgIC8vIHJlbWVtYmVyIHRvIGluY2x1ZGUgdmFsdWVzIGZvciBkYWlseSBzdHVmZlxuICAgICAgICBvbmVDYWxsRGF0YU9iai5kYWlseSA9IG9uZUNhbGxEYXRhLmRhaWx5O1xuICAgICAgICAvLyByZW1vdmVzIHRoZSBmaXJzdCBkYXkgZnJvbSBkYWlseSwgd2hpY2ggaXMgdG9kYXkncyB3ZWF0aGVyXG4gICAgICAgIG9uZUNhbGxEYXRhT2JqLmRhaWx5LnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBvbmVDYWxsRGF0YU9iajtcbiAgICB9Y2F0Y2ggKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnK2Vycm9yKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGN1cnJlbnRXZWF0aGVyQVBJLCBvbmVDYWxsQVBJfSIsImNvbnN0IGNhcGl0YWxpemVTdHIgPSAoc3RyaW5nKSA9PiB7XG4gICAgLy8gc29sdXRpb246IGh0dHBzOi8vd3d3LmZyZWVjb2RlY2FtcC5vcmcvbmV3cy9ob3ctdG8tY2FwaXRhbGl6ZS13b3Jkcy1pbi1qYXZhc2NyaXB0L1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKF5cXHd7MX0pfChcXHMrXFx3ezF9KS9nLCBsZXR0ZXIgPT4gbGV0dGVyLnRvVXBwZXJDYXNlKCkpO1xufVxuXG5jb25zdCBsb2FkV2VhdGhlckRhdGEgPSAod2VhdGhlck9iaiwgdW5pdHMpID0+e1xuICAgIGxldCBkZWdyZWVzID0nJztcbiAgICBsZXQgc3BlZWQgPSAnJztcbiAgICBpZiAodW5pdHMgPT0nbWV0cmljJyl7XG4gICAgICAgIGRlZ3JlZXM9J8KwQyc7XG4gICAgICAgIHNwZWVkPSdrbS9oJztcbiAgICB9IGVsc2UgaWYgKHVuaXRzID09J2ltcGVyaWFsJyl7XG4gICAgICAgIGRlZ3JlZXM9J8KwRic7XG4gICAgICAgIHNwZWVkPSdtcGgnO1xuICAgIH1cblxuICAgIC8vIEN1cnIgV2VhdGhlcjogbGVmdCBzaWRlXG4gICAgY29uc3Qgd2VhdGhlckxvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dlYXRoZXJMb2NhdGlvbicpO1xuICAgIGNvbnN0IHdlYXRoZXJEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3ZWF0aGVyRGVzY3JpcHRpb24nKTtcbiAgICBjb25zdCB3ZWF0aGVyVGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3ZWF0aGVyVGVtcCcpO1xuICAgIGNvbnN0IHdlYXRoZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dlYXRoZXJJY29uJyk7XG4gICAgXG4gICAgd2VhdGhlckxvY2F0aW9uLmlubmVySFRNTCA9IGAke3dlYXRoZXJPYmouY2l0eX0sICR7d2VhdGhlck9iai5jb3VudHJ5fWA7XG4gICAgLy8gd2VhdGhlckRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGAke3dlYXRoZXJPYmouZGVzY3JpcHRpb259YDtcbiAgICB3ZWF0aGVyRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gYCR7Y2FwaXRhbGl6ZVN0cih3ZWF0aGVyT2JqLmRlc2NyaXB0aW9uKX1gO1xuICAgIHdlYXRoZXJUZW1wLmlubmVySFRNTCA9IGAke01hdGgucm91bmQod2VhdGhlck9iai50ZW1wKX0gJHtkZWdyZWVzfWA7XG4gICAgd2VhdGhlckljb24uc3JjID0gYGh0dHA6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7d2VhdGhlck9iai5pY29uQ29kZX1ANHgucG5nYDtcbiAgICBcbiAgICAvLyBDdXJyIFdlYXRoZXI6IHJpZ2h0IHNpZGVcbiAgICBjb25zdCBmZWVsc0xpa2VUZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZlZWxzTGlrZVRlbXAnKTtcbiAgICBjb25zdCBodW1pZGl0eVRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaHVtaWRpdHlUZW1wJyk7XG4gICAgY29uc3Qgd2luZFNwZWVkVGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3aW5kU3BlZWRUZW1wJyk7XG4gICAgZmVlbHNMaWtlVGVtcC5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKHdlYXRoZXJPYmouZmVlbHNMaWtlKX0gJHtkZWdyZWVzfWA7XG4gICAgaHVtaWRpdHlUZW1wLmlubmVySFRNTCA9IGAke3dlYXRoZXJPYmouaHVtaWRpdHl9JWA7XG4gICAgd2luZFNwZWVkVGVtcC5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKHdlYXRoZXJPYmoud2luZFNwZWVkICogMTApIC8gMTB9ICR7c3BlZWR9YDtcblxuICAgIC8vIGRhaWx5IHdlYXRoZXI6XG4gICAgLy8gY29udmVydCB0aW1lc3RhbXAgdG8gZGF5IHNvbHV0aW9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNzA5MTZcbiAgICBjb25zdCBhbGxEYXlzPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XG4gICAgd2VhdGhlck9iai5kYWlseS5mb3JFYWNoKChkYXksaW5kZXgpPT57XG4gICAgICAgIGxldCBkYXRlVGltZSA9IG5ldyBEYXRlKGRheS5kdCoxMDAwKTsgLy9nZXQgZGF0ZVRpbWVcbiAgICAgICAgbGV0IGNvbnZEYXlOYW1lID0gYWxsRGF5c1tkYXRlVGltZS5nZXREYXkoKV07XG5cbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNkYXkke2luZGV4fU5hbWVgKTtcbiAgICAgICAgY29uc3QgZGF5SGlnaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNkYXkke2luZGV4fUhpZ2hgKTtcbiAgICAgICAgY29uc3QgZGF5TG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2RheSR7aW5kZXh9TG93YCk7XG4gICAgICAgIGNvbnN0IGRheUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZGF5JHtpbmRleH1JY29uYCk7XG4gICAgICAgIGRheU5hbWUuaW5uZXJIVE1MID0gYCR7Y29udkRheU5hbWV9YDtcbiAgICAgICAgZGF5SGlnaC5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKGRheS50ZW1wLm1heCl9ICR7ZGVncmVlc31gO1xuICAgICAgICBkYXlMb3cuaW5uZXJIVE1MID0gYCR7TWF0aC5yb3VuZChkYXkudGVtcC5taW4pfSAke2RlZ3JlZXN9YDtcbiAgICAgICAgZGF5SWNvbi5zcmMgPSBgaHR0cDovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHtkYXkud2VhdGhlclswXS5pY29ufUAyeC5wbmdgO1xuICAgIH0pO1xufVxuXG5leHBvcnQge2xvYWRXZWF0aGVyRGF0YX0iXSwic291cmNlUm9vdCI6IiJ9