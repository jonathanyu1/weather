(()=>{"use strict";(()=>{let e="metric",t="toronto";const o=document.querySelector("#searchInput"),n=document.querySelector("#btnSearch"),r=document.querySelector("#btnChangeUnit"),c=async o=>{try{let n=await(async e=>{try{const t=await fetch(e,{mode:"cors"}),o=await t.json();console.log(o);const n={};return n.city=o.name,n.country=o.sys.country,n.lat=o.coord.lat,n.lon=o.coord.lon,console.log("currentDataObj"),n}catch(e){console.log("error: "+e)}})(`https://api.openweathermap.org/data/2.5/weather?q=${o}&units=${e}&APPID=107629179ef66f70931a8e42d89f5115`),r=await(async e=>{try{const t=await fetch(e,{mode:"cors"}),o=await t.json();console.log(o);const n={};return n.temp=o.current.temp,n.description=o.current.weather[0].description,n.iconCode=o.current.weather[0].icon,n.feelsLike=o.current.feels_like,n.humidity=o.current.humidity,n.windSpeed=o.current.wind_speed,n.daily=o.daily,n.daily.shift(),n}catch(e){console.log("error: "+e)}})(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.lat}&lon=${n.lon}&units=${e}&appid=107629179ef66f70931a8e42d89f5115`);console.log(n),console.log(r),r.city=n.city,r.country=n.country,console.log(r),t=n.city,((e,t)=>{let o="",n="";"metric"==t?(o="°C",n="km/h"):"imperial"==t&&(o="°F",n="mph");const r=document.querySelector("#weatherLocation"),c=document.querySelector("#weatherDescription"),a=document.querySelector("#weatherTemp"),i=document.querySelector("#weatherIcon");var l;r.innerHTML=`${e.city}, ${e.country}`,c.innerHTML=`${l=e.description,l.replace(/(^\w{1})|(\s+\w{1})/g,(e=>e.toUpperCase()))}`,a.innerHTML=`${Math.round(e.temp)} ${o}`,i.src=`http://openweathermap.org/img/wn/${e.iconCode}@2x.png`;const d=document.querySelector("#feelsLikeTemp"),u=document.querySelector("#humidityTemp"),s=document.querySelector("#windSpeedTemp");d.innerHTML=`${Math.round(e.feelsLike)} ${o}`,u.innerHTML=`${e.humidity}%`,s.innerHTML=`${Math.round(10*e.windSpeed)/10} ${n}`;const y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];e.daily.forEach(((e,t)=>{console.log(e),console.log(t),console.log(e.dt);let n=new Date(1e3*e.dt),r=y[n.getDay()];console.log(r);const c=document.querySelector(`#day${t}Name`),a=document.querySelector(`#day${t}High`),i=document.querySelector(`#day${t}Low`),l=document.querySelector(`#day${t}Icon`);c.innerHTML=`${r}`,a.innerHTML=`${Math.round(e.temp.max)} ${o}`,i.innerHTML=`${Math.round(e.temp.min)} ${o}`,l.src=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}))})(r,e)}catch(e){console.log("error: "+e)}};c("toronto"),n.addEventListener("click",(()=>{console.log(o.value),c(o.value)})),o.addEventListener("keypress",(function(e){"Enter"===e.key&&c(o.value)})),r.addEventListener("click",(function(o){const n=document.querySelector("#metricLabel"),r=document.querySelector("#imperialLabel");"metric"==e?(e="imperial",n.style.fontWeight="normal",r.style.fontWeight="bold"):"imperial"==e&&(e="metric",n.style.fontWeight="bold",r.style.fontWeight="normal"),c(t)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWF0aGVyLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dlYXRoZXIvLi9zcmMvYXBpLmpzIiwid2VicGFjazovL3dlYXRoZXIvLi9zcmMvZG9tLmpzIl0sIm5hbWVzIjpbInVuaXRzIiwiY3VyckNpdHkiLCJzZWFyY2hJbnB1dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNlYXJjaEJ0biIsImJ0bkNoYW5nZVVuaXQiLCJnZXREYXRhIiwiYXN5bmMiLCJzZWFyY2hWYWx1ZSIsImN1cnJlbnREYXRhIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1vZGUiLCJqc29uIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnREYXRhT2JqIiwiY2l0eSIsIm5hbWUiLCJjb3VudHJ5Iiwic3lzIiwibGF0IiwiY29vcmQiLCJsb24iLCJlcnJvciIsImN1cnJlbnRXZWF0aGVyQVBJIiwib25lQ2FsbERhdGEiLCJvbmVDYWxsRGF0YU9iaiIsInRlbXAiLCJjdXJyZW50IiwiZGVzY3JpcHRpb24iLCJ3ZWF0aGVyIiwiaWNvbkNvZGUiLCJpY29uIiwiZmVlbHNMaWtlIiwiZmVlbHNfbGlrZSIsImh1bWlkaXR5Iiwid2luZFNwZWVkIiwid2luZF9zcGVlZCIsImRhaWx5Iiwic2hpZnQiLCJvbmVDYWxsQVBJIiwid2VhdGhlck9iaiIsImRlZ3JlZXMiLCJzcGVlZCIsIndlYXRoZXJMb2NhdGlvbiIsIndlYXRoZXJEZXNjcmlwdGlvbiIsIndlYXRoZXJUZW1wIiwid2VhdGhlckljb24iLCJzdHJpbmciLCJpbm5lckhUTUwiLCJyZXBsYWNlIiwibGV0dGVyIiwidG9VcHBlckNhc2UiLCJNYXRoIiwicm91bmQiLCJzcmMiLCJmZWVsc0xpa2VUZW1wIiwiaHVtaWRpdHlUZW1wIiwid2luZFNwZWVkVGVtcCIsImFsbERheXMiLCJmb3JFYWNoIiwiZGF5IiwiaW5kZXgiLCJkdCIsImRhdGVUaW1lIiwiRGF0ZSIsImNvbnZEYXlOYW1lIiwiZ2V0RGF5IiwiZGF5TmFtZSIsImRheUhpZ2giLCJkYXlMb3ciLCJkYXlJY29uIiwibWF4IiwibWluIiwibG9hZFdlYXRoZXJEYXRhIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwiZSIsImtleSIsIm1ldHJpY0xhYmVsIiwiaW1wZXJpYWxMYWJlbCIsInN0eWxlIiwiZm9udFdlaWdodCJdLCJtYXBwaW5ncyI6Im1CQUl1QixNQUNuQixJQUFJQSxFQUFRLFNBQ1JDLEVBQVcsVUFDZixNQUFNQyxFQUFjQyxTQUFTQyxjQUFjLGdCQUNyQ0MsRUFBWUYsU0FBU0MsY0FBYyxjQUNuQ0UsRUFBZ0JILFNBQVNDLGNBQWMsa0JBRXZDRyxFQUFVQyxNQUFPQyxJQUNuQixJQUNJLElBQUlDLE9DYlVGLE9BQU9HLElBQzdCLElBQ0ksTUFBTUMsUUFBaUJDLE1BQU1GLEVBQUssQ0FBQ0csS0FBTSxTQUNuQ0osUUFBb0JFLEVBQVNHLE9BQ25DQyxRQUFRQyxJQUFJUCxHQUNaLE1BQU1RLEVBQWlCLEdBTXZCLE9BTEFBLEVBQWVDLEtBQU9ULEVBQVlVLEtBQ2xDRixFQUFlRyxRQUFVWCxFQUFZWSxJQUFJRCxRQUN6Q0gsRUFBZUssSUFBTWIsRUFBWWMsTUFBTUQsSUFDdkNMLEVBQWVPLElBQU1mLEVBQVljLE1BQU1DLElBQ3ZDVCxRQUFRQyxJQUFJLGtCQUNMQyxFQUNULE1BQU9RLEdBQ0xWLFFBQVFDLElBQUksVUFBVVMsS0RBTUMsQ0FBa0IscURBQXFEbEIsV0FBcUJULDRDQUNoSDRCLE9DSUdwQixPQUFPRyxJQUN0QixJQUNJLE1BQU1DLFFBQWlCQyxNQUFNRixFQUFLLENBQUNHLEtBQU0sU0FDbkNjLFFBQW9CaEIsRUFBU0csT0FDbkNDLFFBQVFDLElBQUlXLEdBQ1osTUFBTUMsRUFBaUIsR0FXdkIsT0FWQUEsRUFBZUMsS0FBT0YsRUFBWUcsUUFBUUQsS0FDMUNELEVBQWVHLFlBQWNKLEVBQVlHLFFBQVFFLFFBQVEsR0FBR0QsWUFDNURILEVBQWVLLFNBQVdOLEVBQVlHLFFBQVFFLFFBQVEsR0FBR0UsS0FDekROLEVBQWVP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QUFZNkUsVUFJNUJ6RSxFQUFjd0UsaUJBQWlCLFNBQVMsU0FBU0UsR0FFN0MsTUFBTUUsRUFBYy9FLFNBQVNDLGNBQWMsZ0JBQ3JDK0UsRUFBZ0JoRixTQUFTQyxjQUFjLGtCQUNsQyxVQUFQSixHQUNBQSxFQUFRLFdBQ1JrRixFQUFZRSxNQUFNQyxXQUFXLFNBQzdCRixFQUFjQyxNQUFNQyxXQUFXLFFBQ2pCLFlBQVByRixJQUNQQSxFQUFRLFNBQ1JrRixFQUFZRSxNQUFNQyxXQUFXLE9BQzdCRixFQUFjQyxNQUFNQyxXQUFXLFVBR25DOUUsRUFBUU4sT0F6RE8sSSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjdXJyZW50V2VhdGhlckFQSSwgb25lQ2FsbEFQSSB9IGZyb20gJy4vYXBpLmpzJztcbmltcG9ydCB7bG9hZFdlYXRoZXJEYXRhfSBmcm9tICcuL2RvbS5qcyc7XG5cblxuY29uc3Qgc2l0ZUNvbnRyb2xsZXIgPSAoKCk9PntcbiAgICBsZXQgdW5pdHMgPSAnbWV0cmljJztcbiAgICBsZXQgY3VyckNpdHkgPSAndG9yb250byc7XG4gICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2VhcmNoSW5wdXQnKTtcbiAgICBjb25zdCBzZWFyY2hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnRuU2VhcmNoJyk7XG4gICAgY29uc3QgYnRuQ2hhbmdlVW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNidG5DaGFuZ2VVbml0Jyk7XG5cbiAgICBjb25zdCBnZXREYXRhID0gYXN5bmMgKHNlYXJjaFZhbHVlKSA9PntcbiAgICAgICAgdHJ5e1xuICAgICAgICAgICAgbGV0IGN1cnJlbnREYXRhID0gYXdhaXQgY3VycmVudFdlYXRoZXJBUEkoYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtzZWFyY2hWYWx1ZX0mdW5pdHM9JHt1bml0c30mQVBQSUQ9MTA3NjI5MTc5ZWY2NmY3MDkzMWE4ZTQyZDg5ZjUxMTVgKTtcbiAgICAgICAgICAgIGxldCBvbmVDYWxsRGF0YSA9IGF3YWl0IG9uZUNhbGxBUEkoYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9vbmVjYWxsP2xhdD0ke2N1cnJlbnREYXRhLmxhdH0mbG9uPSR7Y3VycmVudERhdGEubG9ufSZ1bml0cz0ke3VuaXRzfSZhcHBpZD0xMDc2MjkxNzllZjY2ZjcwOTMxYThlNDJkODlmNTExNWApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY3VycmVudERhdGEpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cob25lQ2FsbERhdGEpO1xuICAgICAgICAgICAgb25lQ2FsbERhdGEuY2l0eSA9IGN1cnJlbnREYXRhLmNpdHk7XG4gICAgICAgICAgICBvbmVDYWxsRGF0YS5jb3VudHJ5ID0gY3VycmVudERhdGEuY291bnRyeTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG9uZUNhbGxEYXRhKTtcbiAgICAgICAgICAgIGN1cnJDaXR5ID0gY3VycmVudERhdGEuY2l0eTtcbiAgICAgICAgICAgIGxvYWRXZWF0aGVyRGF0YShvbmVDYWxsRGF0YSwgdW5pdHMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcil7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcrZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIC8vIGluaXRpYWxpemUgc2l0ZSB3aXRoICd0b3JvbnRvJyBhcyBiYXNlIGNpdHlcblxuICAgIGNvbnN0IHNpdGVJbml0ID0gKCgpPT57XG4gICAgICAgIGdldERhdGEoJ3Rvcm9udG8nKTtcbiAgICB9KSgpO1xuICAgIFxuICAgIC8vIHNlYXJjaCBiYXIgZXZlbnQgbGlzdGVuZXJzXG5cbiAgICBzZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBjb25zb2xlLmxvZyhzZWFyY2hJbnB1dC52YWx1ZSk7XG4gICAgICAgIGdldERhdGEoc2VhcmNoSW5wdXQudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgc2VhcmNoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSl7XG4gICAgICAgIGlmIChlLmtleSA9PT0nRW50ZXInKXtcbiAgICAgICAgICAgIGdldERhdGEoc2VhcmNoSW5wdXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBidG5DaGFuZ2VVbml0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIC8vIGNoYW5nZSB0byBvcHBvc2l0ZSB1bml0XG4gICAgICAgIGNvbnN0IG1ldHJpY0xhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21ldHJpY0xhYmVsJyk7XG4gICAgICAgIGNvbnN0IGltcGVyaWFsTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1wZXJpYWxMYWJlbCcpO1xuICAgICAgICBpZiAodW5pdHM9PSdtZXRyaWMnKXtcbiAgICAgICAgICAgIHVuaXRzID0gJ2ltcGVyaWFsJztcbiAgICAgICAgICAgIG1ldHJpY0xhYmVsLnN0eWxlLmZvbnRXZWlnaHQ9J25vcm1hbCc7XG4gICAgICAgICAgICBpbXBlcmlhbExhYmVsLnN0eWxlLmZvbnRXZWlnaHQ9J2JvbGQnO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXRzPT0naW1wZXJpYWwnKXtcbiAgICAgICAgICAgIHVuaXRzID0gJ21ldHJpYyc7XG4gICAgICAgICAgICBtZXRyaWNMYWJlbC5zdHlsZS5mb250V2VpZ2h0PSdib2xkJztcbiAgICAgICAgICAgIGltcGVyaWFsTGFiZWwuc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJztcbiAgICAgICAgfVxuICAgICAgICAvLyBjYWxsIGdldERhdGEgdXNpbmcgY3VyckNpdHkgdG8gcmUtZGlzcGxheSBpbiBuZXcgdW5pdHNcbiAgICAgICAgZ2V0RGF0YShjdXJyQ2l0eSk7XG4gICAgfSk7XG5cbn0pKCk7XG5cbiIsImNvbnN0IGN1cnJlbnRXZWF0aGVyQVBJID0gYXN5bmMgKHVybCkgPT4ge1xuICAgIHRyeXtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHttb2RlOiAnY29ycyd9KTtcbiAgICAgICAgY29uc3QgY3VycmVudERhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnREYXRhKTtcbiAgICAgICAgY29uc3QgY3VycmVudERhdGFPYmogPSB7fTtcbiAgICAgICAgY3VycmVudERhdGFPYmouY2l0eSA9IGN1cnJlbnREYXRhLm5hbWU7XG4gICAgICAgIGN1cnJlbnREYXRhT2JqLmNvdW50cnkgPSBjdXJyZW50RGF0YS5zeXMuY291bnRyeTtcbiAgICAgICAgY3VycmVudERhdGFPYmoubGF0ID0gY3VycmVudERhdGEuY29vcmQubGF0O1xuICAgICAgICBjdXJyZW50RGF0YU9iai5sb24gPSBjdXJyZW50RGF0YS5jb29yZC5sb247XG4gICAgICAgIGNvbnNvbGUubG9nKCdjdXJyZW50RGF0YU9iaicpO1xuICAgICAgICByZXR1cm4gY3VycmVudERhdGFPYmo7XG4gICAgfSBjYXRjaCAoZXJyb3Ipe1xuICAgICAgICBjb25zb2xlLmxvZygnZXJyb3I6ICcrZXJyb3IpO1xuICAgICAgICAvLyBzaG93IGVycm9yIG1lc3NhZ2Ugb25cbiAgICB9XG59XG5cbmNvbnN0IG9uZUNhbGxBUEkgPSBhc3luYyAodXJsKSA9PntcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7bW9kZTogJ2NvcnMnfSk7XG4gICAgICAgIGNvbnN0IG9uZUNhbGxEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZyhvbmVDYWxsRGF0YSk7XG4gICAgICAgIGNvbnN0IG9uZUNhbGxEYXRhT2JqID0ge307XG4gICAgICAgIG9uZUNhbGxEYXRhT2JqLnRlbXAgPSBvbmVDYWxsRGF0YS5jdXJyZW50LnRlbXA7XG4gICAgICAgIG9uZUNhbGxEYXRhT2JqLmRlc2NyaXB0aW9uID0gb25lQ2FsbERhdGEuY3VycmVudC53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uO1xuICAgICAgICBvbmVDYWxsRGF0YU9iai5pY29uQ29kZSA9IG9uZUNhbGxEYXRhLmN1cnJlbnQud2VhdGhlclswXS5pY29uO1xuICAgICAgICBvbmVDYWxsRGF0YU9iai5mZWVsc0xpa2UgPSBvbmVDYWxsRGF0YS5jdXJyZW50LmZlZWxzX2xpa2U7XG4gICAgICAgIG9uZUNhbGxEYXRhT2JqLmh1bWlkaXR5ID0gb25lQ2FsbERhdGEuY3VycmVudC5odW1pZGl0eTtcbiAgICAgICAgb25lQ2FsbERhdGFPYmoud2luZFNwZWVkID0gb25lQ2FsbERhdGEuY3VycmVudC53aW5kX3NwZWVkO1xuICAgICAgICAvLyByZW1lbWJlciB0byBpbmNsdWRlIHZhbHVlcyBmb3IgZGFpbHkgc3R1ZmZcbiAgICAgICAgb25lQ2FsbERhdGFPYmouZGFpbHkgPSBvbmVDYWxsRGF0YS5kYWlseTtcbiAgICAgICAgLy8gcmVtb3ZlcyB0aGUgZmlyc3QgZGF5IGZyb20gZGFpbHksIHdoaWNoIGlzIHRvZGF5J3Mgd2VhdGhlclxuICAgICAgICBvbmVDYWxsRGF0YU9iai5kYWlseS5zaGlmdCgpO1xuICAgICAgICByZXR1cm4gb25lQ2FsbERhdGFPYmo7XG4gICAgfWNhdGNoIChlcnJvcil7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogJytlcnJvcik7XG4gICAgfVxufVxuXG5leHBvcnQgeyBjdXJyZW50V2VhdGhlckFQSSwgb25lQ2FsbEFQSX0iLCJjb25zdCBjYXBpdGFsaXplU3RyID0gKHN0cmluZykgPT4ge1xuICAgIC8vIHNvbHV0aW9uOiBodHRwczovL3d3dy5mcmVlY29kZWNhbXAub3JnL25ld3MvaG93LXRvLWNhcGl0YWxpemUtd29yZHMtaW4tamF2YXNjcmlwdC9cbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyheXFx3ezF9KXwoXFxzK1xcd3sxfSkvZywgbGV0dGVyID0+IGxldHRlci50b1VwcGVyQ2FzZSgpKTtcbn1cblxuY29uc3QgbG9hZFdlYXRoZXJEYXRhID0gKHdlYXRoZXJPYmosIHVuaXRzKSA9PntcbiAgICBsZXQgZGVncmVlcyA9Jyc7XG4gICAgbGV0IHNwZWVkID0gJyc7XG4gICAgaWYgKHVuaXRzID09J21ldHJpYycpe1xuICAgICAgICBkZWdyZWVzPSfCsEMnO1xuICAgICAgICBzcGVlZD0na20vaCc7XG4gICAgfSBlbHNlIGlmICh1bml0cyA9PSdpbXBlcmlhbCcpe1xuICAgICAgICBkZWdyZWVzPSfCsEYnO1xuICAgICAgICBzcGVlZD0nbXBoJztcbiAgICB9XG5cbiAgICAvLyBDdXJyIFdlYXRoZXI6IGxlZnQgc2lkZVxuICAgIGNvbnN0IHdlYXRoZXJMb2NhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3ZWF0aGVyTG9jYXRpb24nKTtcbiAgICBjb25zdCB3ZWF0aGVyRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2VhdGhlckRlc2NyaXB0aW9uJyk7XG4gICAgY29uc3Qgd2VhdGhlclRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2VhdGhlclRlbXAnKTtcbiAgICBjb25zdCB3ZWF0aGVySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3ZWF0aGVySWNvbicpO1xuICAgIFxuICAgIHdlYXRoZXJMb2NhdGlvbi5pbm5lckhUTUwgPSBgJHt3ZWF0aGVyT2JqLmNpdHl9LCAke3dlYXRoZXJPYmouY291bnRyeX1gO1xuICAgIC8vIHdlYXRoZXJEZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBgJHt3ZWF0aGVyT2JqLmRlc2NyaXB0aW9ufWA7XG4gICAgd2VhdGhlckRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGAke2NhcGl0YWxpemVTdHIod2VhdGhlck9iai5kZXNjcmlwdGlvbil9YDtcbiAgICB3ZWF0aGVyVGVtcC5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKHdlYXRoZXJPYmoudGVtcCl9ICR7ZGVncmVlc31gO1xuICAgIHdlYXRoZXJJY29uLnNyYyA9IGBodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke3dlYXRoZXJPYmouaWNvbkNvZGV9QDJ4LnBuZ2A7XG4gICAgXG4gICAgLy8gQ3VyciBXZWF0aGVyOiByaWdodCBzaWRlXG4gICAgY29uc3QgZmVlbHNMaWtlVGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmZWVsc0xpa2VUZW1wJyk7XG4gICAgY29uc3QgaHVtaWRpdHlUZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2h1bWlkaXR5VGVtcCcpO1xuICAgIGNvbnN0IHdpbmRTcGVlZFRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2luZFNwZWVkVGVtcCcpO1xuICAgIGZlZWxzTGlrZVRlbXAuaW5uZXJIVE1MID0gYCR7TWF0aC5yb3VuZCh3ZWF0aGVyT2JqLmZlZWxzTGlrZSl9ICR7ZGVncmVlc31gO1xuICAgIGh1bWlkaXR5VGVtcC5pbm5lckhUTUwgPSBgJHt3ZWF0aGVyT2JqLmh1bWlkaXR5fSVgO1xuICAgIHdpbmRTcGVlZFRlbXAuaW5uZXJIVE1MID0gYCR7TWF0aC5yb3VuZCh3ZWF0aGVyT2JqLndpbmRTcGVlZCAqIDEwKSAvIDEwfSAke3NwZWVkfWA7XG5cbiAgICAvLyBkYWlseSB3ZWF0aGVyOlxuICAgIC8vIGNvbnZlcnQgdGltZXN0YW1wIHRvIGRheSBzb2x1dGlvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU2MDcwOTE2XG4gICAgY29uc3QgYWxsRGF5cz0gWydTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheSddO1xuICAgIHdlYXRoZXJPYmouZGFpbHkuZm9yRWFjaCgoZGF5LGluZGV4KT0+e1xuICAgICAgICBjb25zb2xlLmxvZyhkYXkpO1xuICAgICAgICBjb25zb2xlLmxvZyhpbmRleCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGRheS5kdCk7XG4gICAgICAgIGxldCBkYXRlVGltZSA9IG5ldyBEYXRlKGRheS5kdCoxMDAwKTsgLy9nZXQgZGF0ZVRpbWVcbiAgICAgICAgbGV0IGNvbnZEYXlOYW1lID0gYWxsRGF5c1tkYXRlVGltZS5nZXREYXkoKV07XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbnZEYXlOYW1lKTtcblxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2RheSR7aW5kZXh9TmFtZWApO1xuICAgICAgICBjb25zdCBkYXlIaWdoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2RheSR7aW5kZXh9SGlnaGApO1xuICAgICAgICBjb25zdCBkYXlMb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZGF5JHtpbmRleH1Mb3dgKTtcbiAgICAgICAgY29uc3QgZGF5SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNkYXkke2luZGV4fUljb25gKTtcbiAgICAgICAgZGF5TmFtZS5pbm5lckhUTUwgPSBgJHtjb252RGF5TmFtZX1gO1xuICAgICAgICBkYXlIaWdoLmlubmVySFRNTCA9IGAke01hdGgucm91bmQoZGF5LnRlbXAubWF4KX0gJHtkZWdyZWVzfWA7XG4gICAgICAgIGRheUxvdy5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKGRheS50ZW1wLm1pbil9ICR7ZGVncmVlc31gO1xuICAgICAgICBkYXlJY29uLnNyYyA9IGBodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke2RheS53ZWF0aGVyWzBdLmljb259QDJ4LnBuZ2A7XG4gICAgfSk7XG59XG5cbmV4cG9ydCB7bG9hZFdlYXRoZXJEYXRhfSJdLCJzb3VyY2VSb290IjoiIn0=